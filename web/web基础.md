### web基础

#### C/S架构

客户端/服务端

- 优点:

  1.安全性高

  2.有效降低服务器的压力

- 缺点:

  1.增加客户端获得服务的成本

  2.更新较为繁琐

#### B/S架构

浏览器/服务器

- 优点:

  1.不会增加用户获得服务的成本

  2.几乎不需要更新浏览器

- 缺点:

  1.几乎无法有效对服务端计算机资源进行保护

  2.服务端计算机工作压力异常巨大

使用的都是同一的HTTP

### Tomcat核心

一个服务器Server可以提供多种服务servicer

![image-20210809212411171](https://i.loli.net/2021/08/09/kiJjz3yfG95MOpe.png)

### HTTP协议

由浏览器向服务器发送数据称为请求Request

由服务器向浏览器发送数据称为响应Response

#### HTTP1.0版本

![image-20210809213034827](https://i.loli.net/2021/08/09/gvUblk5sfNOBJAD.png)

特点:

- HTTP1.0协议中连接属于非持久连接,一次TCP连接只能进行一次请求与响应
- 客户端只有在接收到服务器端对上一次请求的响应后,客户端才可以发出第二次请求
- HTTP1.0不支持对虚拟主机的访问.因为其没有HOST请求头属性,会将用户所发出的域名直接通过DNS转换为IP后,发送到服务器,域名直接通过DNS转换为IP后，发送到服务端。也就是说，服务端接收到的直接就是个IP而非域名。这样HTTP1.0的请求就不支持对虛拟主机的访问了。
- HTTP1.0协议中在客户端接收到服务端的响应后，马上发送关闭TCP连接的请求，服务端关闭连接。

#### HTTP1.1版本

![image-20210809213835846](https://i.loli.net/2021/08/09/VPoWTq7j8sX4np5.png)

特点:

- HTTP1.1支持持久连接，在一个TCP连接上可以传送多个请求和响应。
- 一般情况下，一个页面中的请求与响应对应一个TCP连接。
- HTTP 1.1还允许客户端不用等待上一次请求结果返回，就可以发出下一次请求。
- HTTP1.1支持对虚拟主机的访问。其在请求头属性中增加了HOST属性，用于记录请求所要访问的虚拟域名。当然，请求中所携带的域名，肯定会通过DNS将其转换为IP,然后查找到相应的主机。但由于请求中还携带有HOST属性，即要访问的域名仍然在请求中，这样的话，服务器就可以从请求中解析出请求所要访问的虚拟主机名。
- HTTP1.1协议中在客户端接收到对最后一次请求的响应后，马上发送关闭TCP连接请求，服务端关闭连接。

#### HTTP协议的组成

- 请求协议用于制定请求信息的格式
- 响应协议用于制定响应信息的格式

##### 请求协议

###### URL 

统一资源定位符.是互联网上标准资源的地址,可以在全球范围内唯一的确定一个资源

###### URI

统一资源标识符.用于标识一个资源的名称.通过这种名称命名的资源可以被互联网定位和访问

###### 请求信息

- 请求行:以请求提交方式名开头(大写)后跟请求的URI,最后是请求协议及版本号
- 请求头:存放各种请求参数及值,其格式为"参数名:参数值".
- 空白行:用于分离请求头与请求正文
- 请求体:存放post提交携带的参数及值.(只有当请求是post时才有请求体)

##### 响应协议

###### 响应信息

- 状态行:包含协议及版本号,状态码,状态描述信息.

- 响应头:存放着各种响应参数及值,其格式为"参数名:参数值".

- 空白行:用于分离响应头与响应体

- 响应体:响应数据所形成的HTML文件内容

  

##### 状态码

 [状态码.xmind](状态码.xmind) 

指定默认的错误码跳转指定页面

```xml
<error-page>
    <error-code>404</error-code>
    <location>/error.html</location>
</error-page>  
```

##### GET请求和POST请求

![image-20210810122529642](https://i.loli.net/2021/08/10/TmUksrQCAqaEPKN.png)

###### 默认请求提交方式

![image-20210810122801361](https://i.loli.net/2021/08/10/FXitoUkwZzSnqyg.png)

###### 请求提交的方式选择

POST:

- 提交时所携带的数据类型不是字符串
- 提交时所携带的数据量比较大
- 提交时所携带的数据具有敏感性,安全性要求较高

其他均采用GET提交方式